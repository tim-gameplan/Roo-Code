# Roo-Code Web Interface

A modern React-based web interface for remote access to the Roo-Code VSCode extension. This interface provides a mobile-friendly way to interact with Cline AI assistant from any device with a web browser.

## 🌟 Features

- **Cross-Device Access**: Use Roo-Code from any device with a web browser
- **Real-time Communication**: WebSocket-based real-time messaging with the VSCode extension
- **VSCode-like UI**: Familiar interface that matches VSCode's design language
- **Secure Authentication**: Token-based authentication with session management
- **Mobile Responsive**: Optimized for both desktop and mobile devices
- **Connection Management**: Automatic reconnection and connection status indicators

## 🚀 Quick Start

### Prerequisites

1. **Production CCS Server**: Must be running on `localhost:3001`
2. **VSCode Extension**: Roo-Code extension must be active in VSCode
3. **Node.js**: Version 18 or higher

### Installation & Setup

1. **Navigate to the web-ui directory**:

    ```bash
    cd web-ui
    ```

2. **Install dependencies**:

    ```bash
    npm install
    ```

3. **Start the development server**:

    ```bash
    ./start-web-ui.sh
    ```

    Or manually:

    ```bash
    npm run dev
    ```

4. **Access the interface**:
    - Open your browser to `http://localhost:5173`
    - The interface will be available for remote access

## 📱 Usage

### Initial Setup

1. **Start Required Services**:

    - Ensure the Production CCS server is running on `localhost:3001`
    - Have the Roo-Code VSCode extension active

2. **Login Process**:

    - Enter your username and session token
    - Session tokens are generated by the VSCode extension
    - Click "Connect to Roo-Code" to establish connection

3. **Chat Interface**:
    - Send messages to Cline AI assistant
    - View conversation history
    - Monitor connection status
    - Use keyboard shortcuts (Enter to send, Shift+Enter for new line)

### Connection Management

- **Connection Status**: Visual indicators show connection state

    - 🟢 Connected: Active connection to CCS server
    - 🟡 Connecting: Attempting to establish connection
    - 🔴 Disconnected: No connection available

- **Auto-Reconnection**: Automatic attempts to reconnect on connection loss
- **Manual Reconnection**: Use the "Reconnect" button if needed

## 🏗️ Architecture

### Technology Stack

- **Frontend**: React 18 + TypeScript
- **Build Tool**: Vite
- **Styling**: Custom CSS with VSCode theme variables
- **WebSocket**: Real-time communication with CCS server
- **Authentication**: JWT token-based authentication

### Project Structure

```
web-ui/
├── public/
│   └── index.html          # HTML template
├── src/
│   ├── components/         # React components
│   │   ├── Login.tsx      # Login interface
│   │   └── Chat.tsx       # Chat interface
│   ├── hooks/             # Custom React hooks
│   │   ├── useAuth.ts     # Authentication management
│   │   └── useWebSocket.ts # WebSocket connection
│   ├── types/             # TypeScript type definitions
│   ├── utils/             # Utility functions
│   │   └── api.ts         # API communication
│   ├── App.tsx            # Main application component
│   ├── main.tsx           # Application entry point
│   └── index.css          # Global styles
├── package.json           # Dependencies and scripts
├── vite.config.ts         # Vite configuration
├── tsconfig.json          # TypeScript configuration
├── start-web-ui.sh        # Startup script
└── README.md              # This file
```

### Communication Flow

1. **Authentication**: Web UI → CCS Server → VSCode Extension
2. **Message Flow**: Web UI ↔ CCS Server ↔ VSCode Extension ↔ Cline AI
3. **Real-time Updates**: WebSocket connections maintain live communication

## 🔧 Development

### Available Scripts

- `npm run dev` - Start development server
- `npm run build` - Build for production
- `npm run preview` - Preview production build
- `npm run lint` - Run ESLint
- `npm run type-check` - Run TypeScript type checking

### Environment Configuration

The web interface automatically connects to:

- **CCS Server**: `http://localhost:3001`
- **WebSocket**: `ws://localhost:3001`

### Customization

#### Styling

- Modify `src/index.css` for global styles
- VSCode theme variables are defined in CSS custom properties
- Component-specific styles are included in the CSS file

#### API Configuration

- Update `src/utils/api.ts` to modify API endpoints
- WebSocket configuration is in `src/hooks/useWebSocket.ts`

## 🔒 Security

### Authentication

- JWT token-based authentication
- Tokens are generated by the VSCode extension
- Session management with automatic token refresh

### Connection Security

- WebSocket connections use secure protocols when available
- CORS policies configured on the CCS server
- Rate limiting implemented on the backend

## 📱 Mobile Support

### Responsive Design

- Optimized layouts for mobile devices
- Touch-friendly interface elements
- Adaptive font sizes and spacing

### Mobile Features

- Swipe gestures for navigation
- Mobile keyboard optimization
- Offline state handling

## 🐛 Troubleshooting

### Common Issues

1. **Connection Failed**:

    - Verify CCS server is running on `localhost:3001`
    - Check VSCode extension is active
    - Ensure firewall allows connections

2. **Authentication Errors**:

    - Verify session token is correct
    - Check token hasn't expired
    - Restart VSCode extension if needed

3. **WebSocket Issues**:
    - Check browser console for errors
    - Verify WebSocket support in browser
    - Try refreshing the page

### Debug Mode

Enable debug logging by opening browser developer tools:

```javascript
localStorage.setItem("debug", "true")
```

### Network Issues

Check network connectivity:

```bash
# Test CCS server
curl http://localhost:3001/health

# Test WebSocket (using wscat)
wscat -c ws://localhost:3001
```

## 🔄 Integration

### VSCode Extension Integration

- Seamless integration with Roo-Code extension
- Shared session management
- Synchronized conversation history

### CCS Server Integration

- RESTful API for authentication
- WebSocket for real-time communication
- Health monitoring endpoints

## 📊 Performance

### Optimization Features

- Code splitting for faster loading
- Lazy loading of components
- Efficient WebSocket message handling
- Minimal bundle size

### Monitoring

- Connection status monitoring
- Performance metrics tracking
- Error reporting and logging

## 🚀 Deployment

### Development Deployment

```bash
npm run dev
```

### Production Build

```bash
npm run build
npm run preview
```

### Docker Deployment

```dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
RUN npm run build
EXPOSE 5173
CMD ["npm", "run", "preview"]
```

## 📝 Contributing

1. Follow the existing code style
2. Add TypeScript types for new features
3. Test on both desktop and mobile
4. Update documentation for new features

## 📄 License

This project is part of the Roo-Code extension system and follows the same licensing terms.

## 🔗 Related Projects

- [Roo-Code VSCode Extension](../src/)
- [Production CCS Server](../production-ccs/)
- [Documentation](../docs/)

## 📞 Support

For issues and questions:

1. Check the troubleshooting section above
2. Review the main project documentation
3. Check existing GitHub issues
4. Create a new issue with detailed information

---

**Note**: This web interface is designed to work in conjunction with the Roo-Code VSCode extension and requires the Production CCS server to be running for full functionality.
